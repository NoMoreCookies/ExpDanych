---
title: "Sprawozdanie 2"
subtitle: "Eksploracja danych"
author: "Kacper Szmigielski, 282255 i Mateusz Wizner"
date: "`r Sys.Date()`"
header-includes:
   - \usepackage[OT4]{polski}
   - \usepackage[utf8]{inputenc}
   - \usepackage{graphicx}
   - \usepackage{float}
   - \usepackage{xcolor}
output: 
  pdf_document:
    toc: true
    fig_caption: yes
    fig_width: 5 
    fig_height: 4 
    toc_depth: 3  
    number_sections: true
fontsize: 12pt 
---

```{r setup, include=FALSE}
#USTAWIENIA DO PROJEKTU 
### echo = FALSE (Nie wypisuje kodu przy egzekucji programu)
### message = FALSE (Nie wyświetla jakiś powiadomień)
### warning = Flase (Nie wyświetla błędów jak się pojawią)
#---------------------------------------------------------
knitr::opts_chunk$set(echo = FALSE )
knitr::opts_chunk$set(message = FALSE, waring = FALSE )
knitr::opts_chunk$set(gif.pos = "H", out.extra = "", fig.align = "center")
#---------------------------------------------------------
```

```{r DATA_IMPORT}
#IMPORT DANYCH
#---------------------------------------------------------
data <- read.csv("uaScoresDataFrame.csv") 
head(data)
#---------------------------------------------------------
```

```{r Import_bibliotek}
#POTRZEBNE BIBLIOTEKI
#---------------------------------------------------------
library(knitr)
library(dplyr)
library(kableExtra)
library(patchwork)
library(ggplot2)
#---------------------------------------------------------
```
# ZADANIE 1 (Dyskretyzacja(przedziałowanie) cech ciągłych)
##  a) Dane: iris (R-pakiet datasets).

**3** Pierwsze wiersze z pakietu iris
```{r Dane_iris_przykład}
#DANE
#---------------------------------------------------------
data <- iris
#---------------------------------------------------------
kable(head(data,3))
```
Zbiór danych zawiera wyniki pomiarów uzyskanych dla **trzech gatunków irysów** (tj. setosa, versicolor i virginica) i został **udostępniony przez Ronalda Fishera w roku 1936.**

– **Pomiary** dotyczą **długości oraz szerokości** dwóch różnych części kwiatu– działki **kielicha (ang. sepal) oraz płatka (ang. petal).**

##  b) Wybór cech

Cechy, inaczej właściwie możemy to rozstrzygać jako kolumny, które charakteryzują się **największym zróżnicowaniem** w stosunku do rodzaju gatunku


```{r zad1b}
#TWORZENIE WYKRESÓW 1
#---------------------------------------------------------
p1 <- ggplot(data,aes(x = Sepal.Length,col = Species))+
  geom_histogram()
p2 <- ggplot(data,aes(x = Sepal.Width,col = Species))+
  geom_histogram()
p3 <- ggplot(data,aes(x = Petal.Length,col = Species))+
  geom_histogram()
p4 <- ggplot(data,aes(x = Petal.Width,col = Species))+
  geom_histogram()
#---------------------------------------------------------

#RYSOWANIE WYKRESÓW
#---------------------------------------------------------
(p1 + p2) / (p3 + p4) +
  plot_layout(guides = "collect") &
  theme(legend.position = "bottom",)
#---------------------------------------------------------

```

Po przeanalizowaniu histogramów, widać ,że warto zwrócić uwagę na takie cechy jak **Petal.Length i Petal.Width**, ponieważ

widać dobrze zaznaczone przedziały w których występuje większość kwiatków danego gatunku.

Dalej warto jest też spojrzeć na to jak nasze *obserwawcje* teoretycznie rozkładają się w przestrzeni 2D, aby to zrobić
dodajemy jedną dodatkową kolumnę y, wypełnioną losowymi liczbami od 0 do 1 (rozkłąd jednostajny)

```{r zad1b1}
#DODATKOWY WIERSZ DO WIZUALIZACJI
#---------------------------------------------------------
data$y <- runif(nrow(data))
#---------------------------------------------------------

#TWORZENIE WYKRESÓW
#---------------------------------------------------------
p1 <- ggplot(data,aes(x = Sepal.Length,y=y,col = Species))+
  geom_point()
p2 <- ggplot(data,aes(x = Sepal.Width,y=y ,col = Species))+
  geom_point()
p3 <- ggplot(data,aes(x = Petal.Length,y=y ,col= Species))+
  geom_point()
p4 <- ggplot(data,aes(x = Petal.Width,y=y ,col=Species))+
  geom_point()
#---------------------------------------------------------


#RYSOWANIE WYKRESÓW
#---------------------------------------------------------
(p1 + p2) / (p3 + p4) +
  plot_layout(guides = "collect") &
  theme(legend.position = "bottom",)
#---------------------------------------------------------

```

Wykresy typu scatter-plot potwierdzają ,że **Petal.Length i Petal.Width** są bardzo dobry wyborem cech, które mogłyby być wyznacznikami gatunków roślin.

Musimy jednak wybrać wartości najlepsze i najgorsze, aby to zrobić przeanalizujemy jeszcze boxploty.

```{r zad1b2}

#TWORZENIE WYKRESÓW
#---------------------------------------------------------
p1 <- ggplot(data,aes(x = Sepal.Length,y=Species,col = Species))+
  geom_boxplot()
p2 <- ggplot(data,aes(x = Sepal.Width,y=Species ,col = Species))+
  geom_boxplot()
p3 <- ggplot(data,aes(x = Petal.Length,y=Species ,col= Species))+
  geom_boxplot()
p4 <- ggplot(data,aes(x = Petal.Width,y=Species ,col=Species))+
  geom_boxplot()
#---------------------------------------------------------

#RYSOWANIE WYKRESÓW
#---------------------------------------------------------
(p1 + p2) / (p3 + p4) +
  plot_layout(guides = "collect") &
  theme(legend.position = "bottom",)
#---------------------------------------------------------

```
Na ich podstawaie możemy uznać, że Petal.Width może stanowić najlepszy wyznacznik gatunku roślin
Najgorszym natomiast jest Sepal.Width, tutaj duża część gatunków dzieli te same wartości tej cechy.

##  c) Porównanie nienadzorowanych metod dyskretyzacji

# ZADANIE 2 (Analizaskładowych głównych (Principal Component Analysis (PCA)))
##  a) Dane: City Quality of Life Dataset (plik uaScoresDataFrame.csv, źródło: Kaggle/Teleport.org)
##  b) Przygotowanie danych
##  c) Wyznaczenie składowych głównych
##  d) Zmienność odpowiadająca poszczególnym składowym
##  e) Wizualizacja danych wielowymiarowych
##  f) Korelacja zmiennych
##  g) Końcowe wnioski

# ZADANIE 3 (Skalowaniewielowymiarowe (Multidimensional Scaling (MDS)))
##  a) Dane: titanic_train (R-pakiet titanic)
##  b) Przygotowanie danych
##  c) Redukcja wymiaru na bazie MDS
##  d) Wizualizacja danych
